# OpenClaw 6-Agent System Environment Configuration
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control - it contains secrets!

# =============================================================================
# NEO4J CONFIGURATION
# =============================================================================
# Neo4j connection settings for the knowledge graph
# Used by all agents for memory storage and retrieval

# Neo4j Bolt URI - use bolt://neo4j:7687 for internal Docker network
# or the external URL provided by your Neo4j host (e.g., Neo4j Aura)
NEO4J_URI=bolt://neo4j:7687

# Neo4j username (default is usually 'neo4j')
NEO4J_USER=neo4j

# Neo4j password - CHANGE THIS to your actual Neo4j password
# Must be a strong password, especially for production deployments
NEO4J_PASSWORD=CHANGE_THIS_TO_YOUR_NEO4J_PASSWORD

# Neo4j database name (default: neo4j)
# Only change if using a specific named database in Neo4j 4.0+
NEO4J_DATABASE=neo4j

# =============================================================================
# OPENCLAW GATEWAY CONFIGURATION
# =============================================================================
# Settings for the OpenClaw gateway that handles agent communication
# and webhook processing

# URL of the OpenClaw gateway
# For Railway deployment: https://your-service.railway.app
# For local development: http://localhost:3000
OPENCLAW_GATEWAY_URL=https://kublai.kurult.ai

# Secure authentication token for gateway access
# Generate with: openssl rand -hex 32
# CHANGE THIS to a secure random token (64 hex characters recommended)
OPENCLAW_GATEWAY_TOKEN=CHANGE_THIS_TO_A_SECURE_RANDOM_TOKEN_32_CHARS_MIN

# =============================================================================
# SIGNAL MESSENGER CONFIGURATION
# =============================================================================
# Signal integration for admin notifications and group management
# Requires signal-cli to be installed and configured

# Signal account phone number (E.164 format: +1234567890)
# This is the number that will send/receive Signal messages
SIGNAL_ACCOUNT_NUMBER=+1234567890

# Path to the signal-cli binary
# Default locations:
#   macOS (Homebrew): /opt/homebrew/bin/signal-cli
#   Linux: /usr/bin/signal-cli
#   Docker: /usr/local/bin/signal-cli
SIGNAL_CLI_PATH=/opt/homebrew/bin/signal-cli

# Primary admin phone number for notifications (E.164 format)
# This person receives critical alerts and can send admin commands
ADMIN_PHONE_1=+1234567890

# Secondary admin phone number for group notifications (E.164 format)
# Used for group chat where both admins should be present
ADMIN_PHONE_2=+1234567890

# =============================================================================
# AGENT AUTHENTICATION
# =============================================================================
# Shared secret for agent-to-agent authentication
# Ensures only authorized agents can communicate with each other

# Agent authentication secret
# Generate with: openssl rand -hex 32
# CHANGE THIS to a secure random secret (64 hex characters recommended)
# All agents must use the same secret to authenticate with each other
AGENT_AUTH_SECRET=CHANGE_THIS_TO_A_SECURE_32_CHAR_MINIMUM_SECRET

# =============================================================================
# COMPLEXITY VALIDATION & A/B TESTING
# =============================================================================
# Settings for the complexity scoring validation framework

# A/B testing secret for variant assignment
# Generate with: openssl rand -hex 32
# Used for cryptographically secure hash-based traffic splitting
AB_TEST_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_SECRET

# =============================================================================
# OPTIONAL INTEGRATIONS
# =============================================================================
# Uncomment and configure the integrations you want to enable

# -----------------------------------------------------------------------------
# Notion Integration (Phase 8)
# -----------------------------------------------------------------------------
# NOTION_API_TOKEN=secret_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# NOTION_DATABASE_ID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# -----------------------------------------------------------------------------
# ClawTasks Blockchain Integration (Phase 5)
# -----------------------------------------------------------------------------
# Base network RPC URL for blockchain interactions
# BASE_RPC_URL=https://mainnet.base.org

# -----------------------------------------------------------------------------
# LLM Integration
# -----------------------------------------------------------------------------
# Moonshot API key for agent LLM capabilities
# Get your API key from: https://platform.moonshot.cn/
# MOONSHOT_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# AUTHENTIK BIOMETRIC AUTHENTICATION (WebAuthn/FIDO2)
# =============================================================================
# Authentik identity provider for protecting Kublai Control UI
# Provides Face ID, Touch ID, and hardware key authentication

# Authentik Secret Key - 50+ character random string
# Generate with: openssl rand -hex 32
# CRITICAL: This encrypts sensitive data. Store securely and back up!
AUTHENTIK_SECRET_KEY=CHANGE_THIS_TO_50_PLUS_CHAR_RANDOM_STRING

# Bootstrap password for akadmin user (initial setup only)
# Generate with: openssl rand -base64 24
# CHANGE THIS immediately after first login!
AUTHENTIK_BOOTSTRAP_PASSWORD=CHANGE_THIS_SECURE_PASSWORD

# External hostname for Authentik
# This is the URL users will see and authenticate against
AUTHENTIK_EXTERNAL_HOST=https://kublai.kurult.ai

# Internal hostname for the protected application
# This is where authenticated requests are forwarded
AUTHENTIK_INTERNAL_HOST=http://moltbot:8080

# PostgreSQL database settings for Authentik
AUTHENTIK_POSTGRESQL__HOST=authentik-db.railway.internal
AUTHENTIK_POSTGRESQL__NAME=authentik
AUTHENTIK_POSTGRESQL__USER=postgres
AUTHENTIK_POSTGRESQL__PASSWORD=CHANGE_THIS_DB_PASSWORD

# Signal SSE endpoint authentication token
# Used to secure the Signal link endpoint that bypasses Authentik
# Generate with: openssl rand -hex 32
SIGNAL_LINK_TOKEN=CHANGE_THIS_RANDOM_TOKEN

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Observability settings for debugging and production monitoring

# Log level for all agents
# Options: debug, info, warn, error
# - debug: Verbose logging for development
# - info: Standard operational logging (recommended for production)
# - warn: Only warnings and errors
# - error: Critical errors only
LOG_LEVEL=info

# Prometheus metrics port
# Agents expose metrics on this port for scraping by Prometheus
# Default: 9090
PROMETHEUS_PORT=9090

# Authentik backup configuration (for scripts/backup-authentik-db.sh)
# R2/S3-compatible storage for database backups
R2_BUCKET=authentik-backups
R2_PREFIX=authentik/db
R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
BACKUP_RETENTION_DAYS=30
# Optional: Health check URL for backup monitoring (e.g., healthchecks.io)
HEALTHCHECK_URL=

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 1. NEVER commit .env files to version control
# 2. Use strong, unique passwords for all services
# 3. Rotate secrets regularly (recommended: every 90 days)
# 4. Use environment-specific .env files (e.g., .env.production)
# 5. Store production secrets in a secure vault (e.g., Railway variables,
#    AWS Secrets Manager, HashiCorp Vault)
# 6. Keep signal-cli registration separate from this configuration
# =============================================================================
