{
  "gateway": {
    "mode": "local",
    "port": 18789,
    "trustedProxies": ["*"],
    "auth": {
      "mode": "token",
      "token": "${OPENCLAW_GATEWAY_TOKEN}"
    },
    "controlUi": {
      "enabled": true
    }
  },
  "agents": {
    "defaults": {
      "workspace": "/data/workspace",
      "sandbox": {
        "mode": "off"
      },
      "model": {
        "primary": "zai/glm-4.5"
      }
    },
    "list": [
      {
        "id": "main",
        "name": "Kublai",
        "default": true,
        "agentDir": "/data/.clawdbot/agents/main",
        "model": "moonshot/kimi-k2.5"
      },
      {
        "id": "researcher",
        "name": "Mongke",
        "agentDir": "/data/.clawdbot/agents/researcher"
      },
      {
        "id": "writer",
        "name": "Chagatai",
        "agentDir": "/data/.clawdbot/agents/writer",
        "model": "moonshot/kimi-k2.5"
      },
      {
        "id": "developer",
        "name": "Temujin",
        "agentDir": "/data/.clawdbot/agents/developer",
        "model": "zai/glm-4.7"
      },
      {
        "id": "analyst",
        "name": "Jochi",
        "agentDir": "/data/.clawdbot/agents/analyst"
      },
      {
        "id": "ops",
        "name": "Ogedei",
        "agentDir": "/data/.clawdbot/agents/ops",
        "failoverFor": ["main"],
        "failoverTriggers": ["kublai_unavailable", "kublai_rate_limited"]
      }
    ]
  },
  "channels": {
    "signal": {
      "enabled": true,
      "account": "+15165643945",
      "cliPath": "/usr/local/bin/signal-cli",
      "autoStart": true,
      "startupTimeoutMs": 120000,
      "dmPolicy": "pairing",
      "groupPolicy": "allowlist",
      "configWrites": false,
      "allowFrom": ["+15165643945", "+19194133445"],
      "groupAllowFrom": ["+19194133445"],
      "historyLimit": 50,
      "textChunkLimit": 4000,
      "ignoreStories": true
    }
  },
  "session": {
    "scope": "per-sender",
    "signalRouting": {
      "enabled": true,
      "defaultAgent": "main",
      "sessionIsolation": true,
      "responseRouting": {
        "mode": "sender-matched",
        "description": "Agent responses are routed back to the original Signal sender session"
      }
    },
    "reset": {
      "mode": "daily",
      "graceful": true,
      "drainTimeoutSeconds": 300,
      "maxPendingTasksBeforeForceReset": 10
    }
  },
  "logging": {
    "level": "info"
  },
  "browser": {
    "enabled": false
  },
  "tools": {
    "profile": "coding",
    "agentToAgent": {
      "enabled": true,
      "allow": ["main", "researcher", "writer", "developer", "analyst", "ops"]
    }
  }
}
