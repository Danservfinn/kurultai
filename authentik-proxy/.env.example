# Authentik Proxy Configuration
# Copy to .env and fill in actual values (never commit .env)

# =============================================================================
# CADDY PROXY SETTINGS
# =============================================================================

# Port for Caddy to listen on (Railway sets this automatically)
PORT=8080

# Secret token for Signal SSE endpoint authentication
# Generate with: openssl rand -hex 32
SIGNAL_LINK_TOKEN=your_random_token_here

# =============================================================================
# AUTHENTIK SERVER CONNECTION
# =============================================================================

# Internal Authentik server URL
AUTHENTIK_URL=http://authentik-server:9000

# API token for bootstrap script (created after first setup)
AUTHENTIK_API_TOKEN=

# =============================================================================
# BOOTSTRAP SETTINGS (Only needed for initial setup)
# =============================================================================

# Bootstrap password for akadmin user (change after first login!)
# Generate with: openssl rand -base64 32
AUTHENTIK_BOOTSTRAP_PASSWORD=change_this_to_a_secure_password

# External hostname for Authentik
AUTHENTIK_EXTERNAL_HOST=https://kublai.kurult.ai

# Internal hostname for the protected app
AUTHENTIK_INTERNAL_HOST=http://moltbot:8080

# =============================================================================
# DATABASE CONNECTION (for backup script)
# =============================================================================

AUTHENTIK_POSTGRESQL__HOST=authentik-db.railway.internal
AUTHENTIK_POSTGRESQL__NAME=authentik
AUTHENTIK_POSTGRESQL__USER=postgres
AUTHENTIK_POSTGRESQL__PASSWORD=

# =============================================================================
# BACKUP SETTINGS (for R2/S3-compatible storage)
# =============================================================================

# Cloudflare R2 or AWS S3 credentials
R2_BUCKET=authentik-backups
R2_PREFIX=authentik/db
R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
BACKUP_RETENTION_DAYS=30

# Optional: Health check URL for backup monitoring
HEALTHCHECK_URL=
